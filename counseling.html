<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>진로 상담 - 전주공업고등학교 졸업생 네트워크</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/counseling.css">
</head>
<body>
    <header id="mainHeader">
        <nav>
            <div class="logo">
                <img src="images/logo.png" alt="JJOBB" style="height: 40px;">
            </div>
            <ul class="nav-links">
                <li><a href="dashboard.html">대시보드</a></li>
                <li><a href="jobs.html">채용 정보</a></li>
                <li><a href="networking.html">동문 네트워킹</a></li>
                <li><a href="counseling.html" class="active">진로 상담</a></li>
            </ul>
            <div class="user-menu">
                <span class="user-name" id="userName"></span>
                <button onclick="auth.logout()" class="btn-logout">로그아웃</button>
            </div>
        </nav>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="dashboard.html" class="menu-item">
                    <span class="icon">📊</span>
                    <span>대시보드</span>
                </a>
                <a href="profile.html" class="menu-item">
                    <span class="icon">👤</span>
                    <span>내 프로필</span>
                </a>
                <a href="jobs.html" class="menu-item">
                    <span class="icon">💼</span>
                    <span>채용 정보</span>
                </a>
                <a href="networking.html" class="menu-item">
                    <span class="icon">🤝</span>
                    <span>동문 네트워킹</span>
                </a>
                <a href="counseling.html" class="menu-item active" id="counselingMenu">
                    <span class="icon">💬</span>
                    <span>진로 상담</span>
                </a>
                <a href="career.html" class="menu-item" id="careerMenu">
                    <span class="icon">📈</span>
                    <span>경력 관리</span>
                </a>
            </div>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1>💬 진로 상담 서비스</h1>
                <p id="pageSubtitle">선배 상담교사와 1:1 상담을 통해 진로를 설계하세요</p>
            </div>

            <!-- 학생용 탭 메뉴 -->
            <div class="counseling-tabs" id="studentTabs">
                <button class="tab-btn active" data-tab="apply">상담 신청</button>
                <button class="tab-btn" data-tab="my">내 상담</button>
                <button class="tab-btn" data-tab="message">메시지</button>
                <button class="tab-btn" data-tab="teachers">상담교사</button>
            </div>

            <!-- 교사전용 탭 메뉴 -->
            <div class="counseling-tabs" id="teacherTabs" style="display: none;">
                <button class="tab-btn active" data-tab="requests">상담 신청 내역</button>
                <button class="tab-btn" data-tab="schedule">내 일정</button>
                <button class="tab-btn" data-tab="message">메시지</button>
            </div>

            <!-- 교사전용: 상담 신청 내역 탭 -->
            <div class="tab-content" id="requests-tab" style="display: none;">
                <div class="content-section">
                    <h2>💼 학생 상담 신청 내역</h2>
                    <div id="counselingRequestsList">
                        <p style="text-align: center; color: #6b7280; padding: 2rem;">상담 신청 내역이 없습니다.</p>
                    </div>
                </div>
            </div>

            <!-- 교사전용: 내 일정 탭 -->
            <div class="tab-content" id="schedule-tab" style="display: none;">
                <div class="content-section">
                    <h2>📅 내 상담 일정</h2>
                    <div id="scheduleList" class="schedule-list">
                        <p style="text-align: center; color: #6b7280; padding: 2rem;">예정된 상담이 없습니다.</p>
                    </div>
                </div>
            </div>

            <!-- 상담 신청 탭 -->
            <div class="tab-content active" id="apply-tab">
                <div class="counseling-form-container">
                    <h2>➕ 새 상담 신청</h2>
                    <p class="form-subtitle">선배 상담교사에게 1:1 상담을 통해 진로를 설계하세요</p>
                    
                    <form id="counselingForm" class="counseling-form">
                        <div class="form-row-grid">
                            <div class="form-group">
                                <label>상담 유형</label>
                                <select id="counselingType" required>
                                    <option value="진로 상담">진로 상담</option>
                                    <option value="취업 상담">취업 상담</option>
                                    <option value="학업 상담">학업 상담</option>
                                    <option value="진학 상담">진학 상담</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>상담교사 선택</label>
                                <select id="counselor" required>
                                    <option value="">상담교사를 선택하세요</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>상담 제목</label>
                            <input type="text" id="counselingTitle" placeholder="상담 제목을 입력하세요" required>
                        </div>

                        <div class="form-group">
                            <label>상담 내용</label>
                            <textarea id="counselingContent" rows="5" placeholder="상담받고 싶은 내용을 자세히 작성해주세요" required></textarea>
                        </div>

                        <div class="form-row-grid">
                            <div class="form-group">
                                <label>희망 날짜</label>
                                <input type="date" id="counselingDate" required>
                            </div>

                            <div class="form-group">
                                <label>희망 시간</label>
                                <select id="counselingTime" required>
                                    <option value="09:00">09:00</option>
                                    <option value="10:00">10:00</option>
                                    <option value="11:00">11:00</option>
                                    <option value="13:00">13:00</option>
                                    <option value="14:00">14:00</option>
                                    <option value="15:00">15:00</option>
                                    <option value="16:00">16:00</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">상담 신청하기</button>
                    </form>
                </div>
            </div>

            <!-- 내 상담 탭 -->
            <div class="tab-content" id="my-tab" style="display: none;">
                <div class="content-section">
                    <h2>📋 내 상담 내역</h2>
                    <div id="myCounselingList" class="counseling-list">
                        <p style="text-align: center; color: #6b7280; padding: 2rem;">신청한 상담이 없습니다.</p>
                    </div>
                </div>
            </div>

            <!-- 메시지 탭 -->
            <div class="tab-content" id="message-tab" style="display: none;">
                <div class="content-section">
                    <h2>💌 메시지</h2>
                    <div id="messageList">
                        <p style="text-align: center; color: #6b7280; padding: 2rem;">메시지가 없습니다.</p>
                    </div>
                </div>
            </div>

            <!-- 상담교사 탭 -->
            <div class="tab-content" id="teachers-tab" style="display: none;">
                <div class="content-section">
                    <h2>👨‍🏫 상담교사 목록</h2>
                    <div id="teachersList" class="teachers-grid">
                        <!-- 상담교사 목록이 여기에 동적으로 표시됩니다 -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/counseling.js"></script>
</body>
</html>
