<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대시보드 - 전주공업고등학교 졸업생 네트워크</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <header id="mainHeader">
        <nav>
            <div class="logo">
                <img src="images/logo.png" alt="JJOBB" style="height: 40px;">
            </div>
            <ul class="nav-links">
                <li><a href="dashboard.html" class="active">대시보드</a></li>
                <li><a href="jobs.html">채용 정보</a></li>
                <li><a href="networking.html">동문 네트워킹</a></li>
                <li><a href="counseling.html">진로 상담</a></li>
            </ul>
            <div class="user-menu">
                <span class="user-name" id="userName"></span>
                <button onclick="auth.logout()" class="btn-logout">로그아웃</button>
            </div>
        </nav>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="dashboard.html" class="menu-item active">
                    <span class="icon">📊</span>
                    <span>대시보드</span>
                </a>
                <a href="profile.html" class="menu-item">
                    <span class="icon">👤</span>
                    <span>내 프로필</span>
                </a>
                <a href="jobs.html" class="menu-item">
                    <span class="icon">💼</span>
                    <span>채용 정보</span>
                </a>
                <a href="networking.html" class="menu-item">
                    <span class="icon">🤝</span>
                    <span>동문 네트워킹</span>
                </a>
                <a href="counseling.html" class="menu-item" id="counselingMenu">
                    <span class="icon">💬</span>
                    <span>진로 상담</span>
                </a>
                <a href="career.html" class="menu-item" id="careerMenu">
                    <span class="icon">📈</span>
                    <span>경력 관리</span>
                </a>
                <!-- 관리자 메뉴 -->
                <div id="adminMenuSection" style="display: none;">
                    <div style="border-top: 1px solid #e5e7eb; margin: 1rem 0; padding-top: 1rem;">
                        <p style="padding: 0 1rem; color: #6b7280; font-size: 0.875rem; font-weight: 600;">관리자 메뉴</p>
                    </div>
                    <a href="admin-users.html" class="menu-item">
                        <span class="icon">👥</span>
                        <span>회원 관리</span>
                    </a>
                    <a href="admin-jobs.html" class="menu-item">
                        <span class="icon">💼</span>
                        <span>채용공고 관리</span>
                    </a>
                    <a href="admin-board.html" class="menu-item">
                        <span class="icon">📋</span>
                        <span>게시판 관리</span>
                    </a>
                    <a href="admin-codes.html" class="menu-item">
                        <span class="icon">⚙️</span>
                        <span>코드 관리</span>
                    </a>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="welcome-section">
                <h1 id="welcomeMessage">환영합니다!</h1>
                <p id="welcomeSubtext">오늘도 좋은 하루 되세요</p>
            </div>

            <!-- 학생/졸업생 대시보드 -->
            <div id="defaultDashboard" class="dashboard-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">💼</div>
                        <div class="stat-info">
                            <h3 id="newJobCount">0</h3>
                            <p>신규 채용공고</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">📩</div>
                        <div class="stat-info">
                            <h3 id="applicationCount">0</h3>
                            <p>지원 현황</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🤝</div>
                        <div class="stat-info">
                            <h3 id="networkCount">0</h3>
                            <p>네트워크 연결</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">💬</div>
                        <div class="stat-info">
                            <h3 id="messageCount">0</h3>
                            <p>새 메시지</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-sections">
                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>🎯 추천 채용공고</h2>
                            <a href="jobs.html" class="section-link">전체보기 →</a>
                        </div>
                        <div id="recommendedJobs" class="jobs-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">채용공고를 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>📢 최근 소식</h2>
                        </div>
                        <div id="recentNews" class="news-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">최근 소식을 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>🎓 평생교육프로그램</h2>
                        </div>
                        <div id="educationPrograms" class="news-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">교육프로그램을 불러오는 중...</p>
                        </div>
                    </section>
                </div>
            </div>

            <!-- 기업 대시보드 -->
            <div id="companyDashboard" class="dashboard-content" style="display: none;">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">📝</div>
                        <div class="stat-info">
                            <h3 id="activeJobCount">0</h3>
                            <p>활성 채용공고</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">👥</div>
                        <div class="stat-info">
                            <h3 id="totalApplicants">0</h3>
                            <p>총 지원자</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">👁️</div>
                        <div class="stat-info">
                            <h3 id="totalViews">0</h3>
                            <p>조회수</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">✅</div>
                        <div class="stat-info">
                            <h3 id="hiredCount">0</h3>
                            <p>채용 완료</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-sections">
                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>📋 내 채용공고</h2>
                            <button id="createJobBtn" class="btn btn-primary">공고 등록</button>
                        </div>
                        <div id="jobPostingsList" class="company-jobs-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">채용공고를 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>👥 최근 지원자</h2>
                            <a href="jobs.html" class="section-link">전체보기 →</a>
                        </div>
                        <div id="recentApplicantsList" class="applicants-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">지원자 정보를 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>💬 상담 신청 내역</h2>
                            <a href="counseling.html" class="section-link">전체보기 →</a>
                        </div>
                        <div id="counselingRequestsList" class="counseling-requests-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">상담 신청 내역을 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>📢 최근 소식</h2>
                        </div>
                        <div id="recentNewsCompany" class="news-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">최근 소식을 불러오는 중...</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <div class="section-header">
                            <h2>🎓 평생교육프로그램</h2>
                        </div>
                        <div id="educationProgramsCompany" class="news-list">
                            <p style="text-align: center; color: #6b7280; padding: 2rem;">교육프로그램을 불러오는 중...</p>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>

    <!-- 최근 소식 상세보기 모달 -->
    <div id="newsDetailModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 id="newsDetailTitle">소식 제목</h2>
                <button onclick="closeNewsDetailModal()" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="newsDetailDate" style="color: #6b7280; margin-bottom: 1rem;"></div>
                <div id="newsDetailContent" style="white-space: pre-wrap; line-height: 1.6;"></div>
            </div>
            <div class="modal-footer">
                <button onclick="closeNewsDetailModal()" class="btn btn-secondary">닫기</button>
            </div>
        </div>
    </div>

    <!-- 교육프로그램 상세보기 모달 -->
    <div id="educationDetailModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 id="educationDetailTitle">프로그램명</h2>
                <button onclick="closeEducationDetailModal()" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 1rem;">
                    <strong>기간:</strong> <span id="educationDetailPeriod"></span>
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>신청 마감일:</strong> <span id="educationDetailDeadline"></span>
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>수강료:</strong> <span id="educationDetailFee"></span>
                </div>
                <div style="margin-top: 1.5rem;">
                    <strong>프로그램 설명:</strong>
                    <div id="educationDetailDescription" style="white-space: pre-wrap; line-height: 1.6; margin-top: 0.5rem;"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeEducationDetailModal()" class="btn btn-secondary">닫기</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
