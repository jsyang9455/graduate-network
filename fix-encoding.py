#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import os
import glob

# 한글 매핑 테이블
replacements = {
    '?�주공업고등?�교': '전주공업고등학교',
    '졸업???�트?�크': '졸업생 네트워크',
    '로그??': '로그인',
    '?�원가??': '회원가입',
    '채용 ?�보': '채용 정보',
    '?�문 ?�트?�킹': '동문 네트워킹',
    '진로 ?�담': '진로 상담',
    '로그?�웃': '로그아웃',
    '?�?�보??': '대시보드',
    '???�로??': '내 프로필',
    '?�학??': '재학생',
    '?�생??': '선생님',
    '?�름': '이름',
    '?�메??': '이메일',
    '비�?번호': '비밀번호',
    '?�력?�세??': '입력하세요',
    '?�명???�력?�세??': '실명을 입력하세요',
    '?�공?�인': '성공적인',
    '지?�적??': '지속적인',
    '?�장??': '성장을',
    '지?�합?�다': '지원합니다',
    '?��????�트?�크�??�해': '동문 네트워크를 통해',
    '?�로??': '새로운',
    '기회�?': '기회를',
    '발견?�세??': '발견하세요',
    '졸업???�록?�기': '졸업생 등록하기',
    '?�사 ?�보 ?�록': '회사 정보 등록',
    '?�재 주요 ?�황': '현재 주요 현황',
    '?�시�??�데?�트': '실시간 업데이트',
    '?�동 갱신': '자동 갱신',
    '?�록 ?�생': '등록 학생',
    '취업�?': '취업률',
    '?�동 ?�원': '활동 회원',
    '주요 ?�비??': '주요 서비스',
    '?�양??': '다양한',
    '지???�비?��?': '지원 서비스를',
    '?�공?�니??': '제공합니다',
    '취업 ?�보 ?�비??': '취업 정보 서비스',
    '최신 채용 ?�보?�': '최신 채용 정보와',
    '맞춤???�자�?': '맞춤형 일자리',
    '추천??': '추천을',
    '받아보세??': '받아보세요',
    '?�후�?': '선후배',
    '졸업?�들�?': '졸업생들과',
    '?�결?�어': '연결되어',
    '멘토�?': '멘토링',
    '만들?�보?�요': '만들어보세요',
    '?�문 ?�담?��?': '전문 상담교사와',
    '?�담??': '상담을',
    '?�생 교육 ?�로그램': '평생 교육 프로그램',
    '기술 ?�렌?��?': '기술 트렌드와',
    '?�무 ??��': '실무 역량',
    '?�상 교육??': '향상 교육을',
    '증명??': '증명서',
    '발급': '발급',
    '각종 증명?��?': '각종 증명서를',
    '?�라?�으�?': '온라인으로',
    '?�청?�고': '신청하고',
    '발급받으?�요': '발급받으세요',
    '경력 관�?': '경력 관리',
    '개인 ?�력�?': '개인 이력과',
    '경력 ?�황??': '경력 현황을',
    '체계?�으�?': '체계적으로',
    '관리합?�다': '관리합니다',
    '?�공 ?�토�?': '성공 스토리',
    '졸업?�들??': '졸업생들의',
    '?�양???�공 ?��?�?': '다양한 성공 사례를',
    '만나보세??': '만나보세요',
    '?�주공고': '전주공고',
    '?�자?�고': '이상 입력',
    '8???�상 ?�력': '8자 이상 입력',
    '?�문': '영문',
    '?�자': '숫자',
    '?�수문자': '특수문자',
    '조합': '조합',
    '비�?번호 ?�인': '비밀번호 확인',
    '재입력': '재입력',
    '?�화번호': '전화번호',
    '?�번': '학번',
    '?�공': '전공',
    '?�공 ?�택': '전공 선택',
    '기계�?': '기계과',
    '?�기�?': '전기과',
    '?�자�?': '전자과',
    '?�동차과': '자동차과',
    '건축�?': '건축과',
    '졸업년도': '졸업년도',
    '?�속 ?�과': '소속 학과',
    '?�과 ?�택': '학과 선택',
    '행정': '행정',
    '직책': '직책',
    '?�용?�관': '이용약관',
    '개인?�보처리방침': '개인정보처리방침',
    '?�의합?�다': '동의합니다',
    '계정??': '계정이',
    '?�으?�가??': '있으신가요',
    '?�?': '예',
}

def fix_file(filepath):
    try:
        with open(filepath, 'r', encoding='utf-8', errors='ignore') as f:
            content = f.read()
        
        original_content = content
        for broken, correct in replacements.items():
            content = content.replace(broken, correct)
        
        if content != original_content:
            with open(filepath, 'w', encoding='utf-8') as f:
                f.write(content)
            print(f"Fixed: {os.path.basename(filepath)}")
            return True
        else:
            print(f"No changes: {os.path.basename(filepath)}")
            return False
    except Exception as e:
        print(f"Error processing {filepath}: {e}")
        return False

# Process all HTML files
html_files = glob.glob('*.html')
fixed_count = 0
for html_file in html_files:
    if fix_file(html_file):
        fixed_count += 1

print(f"\nTotal files fixed: {fixed_count}")
